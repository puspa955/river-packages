"use strict";var e=require("react"),t=require("@tanstack/react-table"),s=require("lucide-react"),r=require("@radix-ui/react-slot"),a=require("class-variance-authority"),n=require("clsx"),l=require("tailwind-merge"),o=require("@fortawesome/react-fontawesome"),i=require("react/jsx-runtime"),d=require("@radix-ui/react-popover"),c=require("@fortawesome/fontawesome-svg-core"),u=require("@fortawesome/free-solid-svg-icons"),m=require("@radix-ui/react-select"),p=require("@radix-ui/react-switch"),h=require("@radix-ui/react-tooltip"),f=require("cmdk"),x=require("react-day-picker"),g=require("date-fns");function y(e){var t=Object.create(null);return e&&Object.keys(e).forEach(function(s){if("default"!==s){var r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return e[s]}})}}),t.default=e,Object.freeze(t)}var b=y(e),v=y(d),w=y(m),j=y(p),N=y(h);function C(...e){return l.twMerge(n.clsx(e))}const k=({className:e})=>i.jsx(o.FontAwesomeIcon,{icon:"spinner",className:C("animate-spin text-primary-600",e)}),S=e.forwardRef(({selected:e,leftIcon:t,rightIcon:s,className:r,iconClassName:a,placeholder:n,maxWidth:l="max-w-20",...d},c)=>i.jsxs("button",{ref:c,className:C("flex items-center border-b pb-1 px-2 text-gray-500 text-sm font-light cursor-pointer min-w-0 overflow-hidden",r),...d,children:[i.jsxs("div",{className:"flex text-start items-center justify-center truncate min-w-0",children:[t&&i.jsx(o.FontAwesomeIcon,{icon:t,className:C("h-3 w-3 text-secondary-500 flex-shrink-0",a)}),i.jsx("span",{className:`truncate min-w-0 ${l} ${t?"pl-1":""}`,children:e&&e.length?Array.isArray(e)?`${e.length} selected`:e.label:n})]}),s&&i.jsx(o.FontAwesomeIcon,{icon:s,className:"h-3 w-3 pl-1 flex-shrink-0"})]}));S.displayName="SelectTrigger";const A=a.cva("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary-700 text-primary-50 shadow hover:bg-primary-800",danger:"bg-red-700 text-red-50 shadow-sm hover:bg-red-800",outline:"border border-input shadow-sm hover:bg-gray-100",secondary:"bg-secondary-700 text-secondary-50 shadow-sm hover:bg-secondary-800",ghost:"hover:bg-primary-50",link:"text-primary-800 underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),M=e.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,loading:n=!1,children:l,...o},d)=>{const c=a?r.Slot:"button",u=a?i.jsxs("span",{className:"inline-flex items-center",children:[n&&i.jsx(k,{className:"mr-2 h-4 w-4 animate-spin text-current"}),l]}):i.jsxs(i.Fragment,{children:[n&&i.jsx(k,{className:"mr-2 h-4 w-4 animate-spin text-current"}),l]});return i.jsx(c,{className:C(A({variant:t,size:s,className:e})),title:o.title,ref:d,disabled:o.disabled||n,...o,children:u})});M.displayName="Button";const $=b.forwardRef(({className:e,type:t,...s},r)=>i.jsx("input",{type:t,className:C("flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));$.displayName="Input";const D=v.Root,F=v.Trigger,R=b.forwardRef(({className:e,align:t="center",sideOffset:s=4,...r},a)=>i.jsx(v.Portal,{children:i.jsx(v.Content,{ref:a,align:t,sideOffset:s,className:C("bg-popover text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));R.displayName=v.Content.displayName,c.config.autoAddCss=!1,c.library.add(u.faCheck,u.faXmark,u.faFilter);const _=w.Root,I=w.Value,P=b.forwardRef(({iconClassName:e,className:t,isIconShow:s=!0,children:r,...a},n)=>i.jsxs(w.Trigger,{ref:n,className:C("flex h-9 w-full items-center whitespace-nowrap rounded-sm border bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[i.jsx(w.Icon,{asChild:!0,children:s&&i.jsx(o.FontAwesomeIcon,{icon:"sort",className:C("mr-2 w-4 h-4",e)})}),r]}));P.displayName=w.Trigger.displayName;const O=b.forwardRef(({className:e,...t},s)=>i.jsx(w.ScrollUpButton,{ref:s,className:C("flex justify-center items-center py-1 cursor-default",e),...t,children:i.jsx(o.FontAwesomeIcon,{icon:"chevron-up"})}));O.displayName=w.ScrollUpButton.displayName;const T=b.forwardRef(({className:e,...t},s)=>i.jsx(w.ScrollDownButton,{ref:s,className:C("flex justify-center items-center py-1 cursor-default",e),...t,children:i.jsx(o.FontAwesomeIcon,{icon:"chevron-down"})}));T.displayName=w.ScrollDownButton.displayName;const L=b.forwardRef(({className:e,children:t,position:s="popper",...r},a)=>i.jsx(w.Portal,{children:i.jsxs(w.Content,{ref:a,className:C("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-sm border bg-white text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[i.jsx(O,{}),i.jsx(w.Viewport,{className:C("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(T,{})]})}));L.displayName=w.Content.displayName,b.forwardRef(({className:e,...t},s)=>i.jsx(w.Label,{ref:s,className:C("px-2 py-1.5 text-sm font-semibold opacity-70",e),...t})).displayName=w.Label.displayName;const z=b.forwardRef(({className:e,children:t,...s},r)=>i.jsxs(w.Item,{ref:r,className:C("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-slate-100 focus:text-primary-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[i.jsx("span",{className:"flex absolute right-2 justify-center items-center w-3.5 h-3.5",children:i.jsx(w.ItemIndicator,{children:i.jsx(o.FontAwesomeIcon,{icon:"check",className:"w-4 h-4"})})}),i.jsx(w.ItemText,{children:t})]}));z.displayName=w.Item.displayName,b.forwardRef(({className:e,...t},s)=>i.jsx(w.Separator,{ref:s,className:C("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=w.Separator.displayName;const G=b.forwardRef(({className:e,thumbStyle:t,...s},r)=>i.jsx(j.Root,{className:C("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary-600 data-[state=unchecked]:bg-gray-400",e),...s,ref:r,children:i.jsx(j.Thumb,{className:C("pointer-events-none block h-5 w-5 rounded-full bg-primary-300 shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0",t)})}));G.displayName=j.Root.displayName;const q=({icon:e,children:t,tooltipText:s,side:r="top",className:a})=>i.jsxs(N.Root,{delayDuration:0,children:[i.jsx(N.Trigger,{asChild:!0,children:i.jsxs("span",{children:[e&&i.jsx(o.FontAwesomeIcon,{icon:e,className:a}),t]})}),i.jsxs(N.Content,{side:r,className:"bg-black text-white text-xs rounded px-2 py-1 shadow-md",children:[s,i.jsx(N.Arrow,{className:"fill-black"})]})]}),U=N.Provider,H=f.Command,V=b.forwardRef((e,t)=>{const{className:s,...r}=e;return i.jsx(f.Command.List,{ref:t,className:C("max-h-[340px] overflow-y-auto overflow-x-hidden scroll-smooth scroll-padding",s),...r})});V.displayName=f.Command.List.displayName;const E=b.forwardRef((e,t)=>{const{className:s,...r}=e;return i.jsx(f.Command.Input,{ref:t,className:C("flex h-10 w-full border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0 disabled:cursor-not-allowed disabled:opacity-50",s),...r})});E.displayName=f.Command.Input.displayName;const W=b.forwardRef((e,t)=>{const{className:s,...r}=e;return i.jsx(f.Command.Item,{ref:t,className:C("relative flex cursor-default select-none items-center px-2 py-1.5 text-sm outline-none transition-colors duration-200 ",s),...r})});W.displayName=f.Command.Item.displayName;const Y=b.forwardRef((e,t)=>{const{className:s,...r}=e;return i.jsx(f.Command.Group,{ref:t,className:C("overflow-hidden text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-0 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",s),...r})});Y.displayName=f.Command.Group.displayName,b.forwardRef((e,t)=>{const{className:s,...r}=e;return i.jsx(f.Command.Separator,{ref:t,className:C("-mx-1 h-px bg-border",s),...r})}).displayName=f.Command.Separator.displayName,b.forwardRef(({className:e,...t},s)=>i.jsx(f.Command.Dialog,{ref:s,className:C("fixed inset-0 z-50 flex items-start justify-center p-4 pt-[25vh] backdrop-blur-md",e),...t,children:i.jsx("div",{className:"w-full max-w-md rounded-md bg-background shadow-lg",children:t.children})})).displayName=f.Command.Dialog.displayName;const B=b.forwardRef(({className:e,...t},s)=>i.jsx("div",{ref:s,className:C("flex items-center justify-center p-4 text-sm text-muted-foreground",e),...t,children:"No results found."}));function J({className:e,classNames:t,showOutsideDays:s=!0,...r}){return i.jsx(x.DayPicker,{showOutsideDays:s,className:C("p-3",e),classNames:{months:"flex flex-col lg:flex-row space-y-16 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-xs font-medium",nav:"space-x-1 flex items-center",nav_button:C(A({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-200"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-0",cell:"h-8 w-8 text-center text-sm p-2 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:C(A({variant:"ghost"}),"h-8 w-8 hover:bg-primary-100 p-1 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary-600 text-white hover:bg-primary-600 hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...e})=>i.jsx(o.FontAwesomeIcon,{icon:"chevron-left",className:"w-4 h-4"}),IconRight:({...e})=>i.jsx(o.FontAwesomeIcon,{icon:"chevron-right",className:"w-4 h-4"})},...r})}B.displayName="CommandEmpty",J.displayName="Calendar";var Z=6e4,X=36e5,Q="millisecond",K="second",ee="minute",te="hour",se="day",re="week",ae="month",ne="quarter",le="year",oe="date",ie="Invalid Date",de=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ce=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ue={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],s=e%100;return"["+e+(t[(s-20)%10]||t[s]||t[0])+"]"}},me=function(e,t,s){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(s)+e},pe={s:me,z:function(e){var t=-e.utcOffset(),s=Math.abs(t),r=Math.floor(s/60),a=s%60;return(t<=0?"+":"-")+me(r,2,"0")+":"+me(a,2,"0")},m:function e(t,s){if(t.date()<s.date())return-e(s,t);var r=12*(s.year()-t.year())+(s.month()-t.month()),a=t.clone().add(r,ae),n=s-a<0,l=t.clone().add(r+(n?-1:1),ae);return+(-(r+(s-a)/(n?a-l:l-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:ae,y:le,w:re,d:se,D:oe,h:te,m:ee,s:K,ms:Q,Q:ne}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},he="en",fe={};fe[he]=ue;var xe="$isDayjsObject",ge=function(e){return e instanceof we||!(!e||!e[xe])},ye=function e(t,s,r){var a;if(!t)return he;if("string"==typeof t){var n=t.toLowerCase();fe[n]&&(a=n),s&&(fe[n]=s,a=n);var l=t.split("-");if(!a&&l.length>1)return e(l[0])}else{var o=t.name;fe[o]=t,a=o}return!r&&a&&(he=a),a||!r&&he},be=function(e,t){if(ge(e))return e.clone();var s="object"==typeof t?t:{};return s.date=e,s.args=arguments,new we(s)},ve=pe;ve.l=ye,ve.i=ge,ve.w=function(e,t){return be(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var we=function(){function e(e){this.$L=ye(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[xe]=!0}var t=e.prototype;return t.parse=function(e){this.$d=function(e){var t=e.date,s=e.utc;if(null===t)return new Date(NaN);if(ve.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(de);if(r){var a=r[2]-1||0,n=(r[7]||"0").substring(0,3);return s?new Date(Date.UTC(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,n)):new Date(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,n)}}return new Date(t)}(e),this.init()},t.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},t.$utils=function(){return ve},t.isValid=function(){return!(this.$d.toString()===ie)},t.isSame=function(e,t){var s=be(e);return this.startOf(t)<=s&&s<=this.endOf(t)},t.isAfter=function(e,t){return be(e)<this.startOf(t)},t.isBefore=function(e,t){return this.endOf(t)<be(e)},t.$g=function(e,t,s){return ve.u(e)?this[t]:this.set(s,e)},t.unix=function(){return Math.floor(this.valueOf()/1e3)},t.valueOf=function(){return this.$d.getTime()},t.startOf=function(e,t){var s=this,r=!!ve.u(t)||t,a=ve.p(e),n=function(e,t){var a=ve.w(s.$u?Date.UTC(s.$y,t,e):new Date(s.$y,t,e),s);return r?a:a.endOf(se)},l=function(e,t){return ve.w(s.toDate()[e].apply(s.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),s)},o=this.$W,i=this.$M,d=this.$D,c="set"+(this.$u?"UTC":"");switch(a){case le:return r?n(1,0):n(31,11);case ae:return r?n(1,i):n(0,i+1);case re:var u=this.$locale().weekStart||0,m=(o<u?o+7:o)-u;return n(r?d-m:d+(6-m),i);case se:case oe:return l(c+"Hours",0);case te:return l(c+"Minutes",1);case ee:return l(c+"Seconds",2);case K:return l(c+"Milliseconds",3);default:return this.clone()}},t.endOf=function(e){return this.startOf(e,!1)},t.$set=function(e,t){var s,r=ve.p(e),a="set"+(this.$u?"UTC":""),n=(s={},s[se]=a+"Date",s[oe]=a+"Date",s[ae]=a+"Month",s[le]=a+"FullYear",s[te]=a+"Hours",s[ee]=a+"Minutes",s[K]=a+"Seconds",s[Q]=a+"Milliseconds",s)[r],l=r===se?this.$D+(t-this.$W):t;if(r===ae||r===le){var o=this.clone().set(oe,1);o.$d[n](l),o.init(),this.$d=o.set(oe,Math.min(this.$D,o.daysInMonth())).$d}else n&&this.$d[n](l);return this.init(),this},t.set=function(e,t){return this.clone().$set(e,t)},t.get=function(e){return this[ve.p(e)]()},t.add=function(e,t){var s,r=this;e=Number(e);var a=ve.p(t),n=function(t){var s=be(r);return ve.w(s.date(s.date()+Math.round(t*e)),r)};if(a===ae)return this.set(ae,this.$M+e);if(a===le)return this.set(le,this.$y+e);if(a===se)return n(1);if(a===re)return n(7);var l=(s={},s[ee]=Z,s[te]=X,s[K]=1e3,s)[a]||1,o=this.$d.getTime()+e*l;return ve.w(o,this)},t.subtract=function(e,t){return this.add(-1*e,t)},t.format=function(e){var t=this,s=this.$locale();if(!this.isValid())return s.invalidDate||ie;var r=e||"YYYY-MM-DDTHH:mm:ssZ",a=ve.z(this),n=this.$H,l=this.$m,o=this.$M,i=s.weekdays,d=s.months,c=s.meridiem,u=function(e,s,a,n){return e&&(e[s]||e(t,r))||a[s].slice(0,n)},m=function(e){return ve.s(n%12||12,e,"0")},p=c||function(e,t,s){var r=e<12?"AM":"PM";return s?r.toLowerCase():r};return r.replace(ce,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return ve.s(t.$y,4,"0");case"M":return o+1;case"MM":return ve.s(o+1,2,"0");case"MMM":return u(s.monthsShort,o,d,3);case"MMMM":return u(d,o);case"D":return t.$D;case"DD":return ve.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return u(s.weekdaysMin,t.$W,i,2);case"ddd":return u(s.weekdaysShort,t.$W,i,3);case"dddd":return i[t.$W];case"H":return String(n);case"HH":return ve.s(n,2,"0");case"h":return m(1);case"hh":return m(2);case"a":return p(n,l,!0);case"A":return p(n,l,!1);case"m":return String(l);case"mm":return ve.s(l,2,"0");case"s":return String(t.$s);case"ss":return ve.s(t.$s,2,"0");case"SSS":return ve.s(t.$ms,3,"0");case"Z":return a}return null}(e)||a.replace(":","")})},t.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},t.diff=function(e,t,s){var r,a=this,n=ve.p(t),l=be(e),o=(l.utcOffset()-this.utcOffset())*Z,i=this-l,d=function(){return ve.m(a,l)};switch(n){case le:r=d()/12;break;case ae:r=d();break;case ne:r=d()/3;break;case re:r=(i-o)/6048e5;break;case se:r=(i-o)/864e5;break;case te:r=i/X;break;case ee:r=i/Z;break;case K:r=i/1e3;break;default:r=i}return s?r:ve.a(r)},t.daysInMonth=function(){return this.endOf(ae).$D},t.$locale=function(){return fe[this.$L]},t.locale=function(e,t){if(!e)return this.$L;var s=this.clone(),r=ye(e,t,!0);return r&&(s.$L=r),s},t.clone=function(){return ve.w(this.$d,this)},t.toDate=function(){return new Date(this.valueOf())},t.toJSON=function(){return this.isValid()?this.toISOString():null},t.toISOString=function(){return this.$d.toISOString()},t.toString=function(){return this.$d.toUTCString()},e}(),je=we.prototype;be.prototype=je,[["$ms",Q],["$s",K],["$m",ee],["$H",te],["$W",se],["$M",ae],["$y",le],["$D",oe]].forEach(function(e){je[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),be.extend=function(e,t){return e.$i||(e(t,we,be),e.$i=!0),be},be.locale=ye,be.isDayjs=ge,be.unix=function(e){return be(1e3*e)},be.en=fe[he],be.Ls=fe,be.p={};const Ne=(e,t)=>{switch(t){case"number":return Number(e);case"date":return be(e).isValid()?new Date(e):new Date;case"boolean":return Boolean(e);case"float":return parseFloat(e);default:return e}},Ce={"<":(e,t)=>e<t,">":(e,t)=>e>t,">=":(e,t)=>e>=t,"<=":(e,t)=>e<=t,"=":(e,t)=>Array.isArray(e)&&Array.isArray(t)?t.some(t=>e.includes(t)):Array.isArray(e)?e.includes(t):Array.isArray(t)?t.includes(e):e===t,"!=":(e,t)=>Array.isArray(e)&&Array.isArray(t)?!t.some(t=>e.includes(t)):Array.isArray(e)?!e.includes(t):Array.isArray(t)?!t.includes(e):e!==t,contains:(e,t)=>"string"==typeof e&&"string"==typeof t&&e.toLowerCase().includes(t.toLowerCase()),beginswith:(e,t)=>"string"==typeof e&&"string"==typeof t&&e.toLowerCase().startsWith(t.toLowerCase()),process(e,t,s){return this[s](e,t)}};function ke(e,t){if(!t)return!0;if(t.operator&&Array.isArray(t.rules)&&1===t.rules.length)return ke(e,t.rules[0]);if(Array.isArray(t))return t.every(t=>ke(e,t));if(t.operator&&Array.isArray(t.rules)){const s=t.operator.toLowerCase();if("and"===s)return t.rules.every(t=>ke(e,t));if("or"===s)return t.rules.some(t=>ke(e,t))}if(t.key&&t.operator&&void 0!==t.value){const{key:s,value:r,operator:a}=t;let n=e[s];if(null==n)return("!="===a||"not_equals"===a)&&null!=r&&""!==r;try{return Ce.process(n,r,a)}catch(e){return console.warn("Filter evaluation error:",e,{key:s,value:r,operator:a,itemValue:n}),!1}}return!0}function Se(e,t){return e?Array.isArray(e)?e.map(e=>Se(e,t)):e.operator&&Array.isArray(e.rules)?{...e,rules:e.rules.map(e=>Se(e,t))}:e.and?{...e,and:e.and.map(e=>Se(e,t))}:e.or?{...e,or:e.or.map(e=>Se(e,t))}:e.key&&(s=e.key)&&null!=t&&null!==(r=t.all)&&void 0!==r&&r.map&&"date"===(null===(a=t.all.map[s])||void 0===a?void 0:a.type)&&"string"==typeof e.value?{...e,value:new Date(e.value)}:e:e;var s,r,a}const Ae=(e,t,s,r)=>{if(!t)return Array.isArray(e)?[...e]:[];const a=Se(t,r);return e.filter(e=>ke(e,a))};function Me(e){return e?Array.isArray(e)?e.reduce((e,t)=>e+Me(t),0):e.rules&&Array.isArray(e.rules)?Me(e.rules):e.key?1:0:0}function $e({placeholder:e="Enter a date",value:t,onChange:s,format:r="yyyy MMM dd",calendarClassName:a,className:n}){const l=t?g.format(t,r):"";return i.jsxs(D,{children:[i.jsx(F,{asChild:!0,children:i.jsx(M,{variant:"outline",className:C("text-xs border-0 border-b-[1px] shadow-none p-1 justify-start text-left font-normal",!t&&"text-slate-500",n),children:t?l:i.jsx("span",{children:e})})}),i.jsx(R,{className:"p-0 w-auto",align:"start",children:i.jsx(J,{className:C("bg-gray-100",a),classNames:{head_cell:"h-8 w-8 text-sm font-medium",cell:"h-8 w-8 text-slate-600"},mode:"single",selected:t,onSelect:e=>{s(e)},initialFocus:!0})})]})}const De=e=>"object"==typeof e?e.path:e,Fe=({selected:e,onRemove:t,onClearAll:s})=>{const r=e.slice().sort((e,t)=>{const s="object"==typeof e?e.label:e,r="object"==typeof t?t.label:t;return s.localeCompare(r)});return i.jsxs("div",{className:"relative flex items-center justify-between px-4 pt-2 pb-4 gap-2 border-b pr-8",children:[i.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(e=>i.jsxs("span",{onClick:s=>{s.stopPropagation(),t(e)},className:"flex items-center bg-primary-400/10 text-[10px] px-1 py-0.5 rounded-sm cursor-pointer hover:bg-gray-200 transition",children:["object"==typeof e?e.label:e,i.jsx(o.FontAwesomeIcon,{icon:"close",className:"h-2 w-2 ml-1 text-primary-600"})]},De(e)))}),i.jsx("div",{onClick:e=>{e.stopPropagation(),s()},className:"absolute top-1 right-2 cursor-pointer",children:i.jsx(q,{tooltipText:"Clear all",icon:"close",className:"h-4 w-4 mr-1 text-gray-500 hover:text-gray-800 transition"})})]})},Re=({options:e,selected:t,onOptionSelect:s,className:r,multiple:a,isSmall:n,optionTooltip:l})=>{const d=e.slice().sort((e,t)=>{var s,r;const a=(null===(s=e.label)||void 0===s?void 0:s.toLowerCase())??"",n=(null===(r=t.label)||void 0===r?void 0:r.toLowerCase())??"";return a.localeCompare(n)});return i.jsx("div",{className:C(r),children:d.map((e,r)=>{if(e.isLoading)return i.jsx(W,{value:e.label,className:"px-4 py-2 text-sm text-gray-500 cursor-default",disabled:!0,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(k,{className:"w-4 h-4"}),i.jsx("span",{children:e.label})]})},"loading-state");const d=a||n?t.some(t=>De(t)===De(e)):t&&De(t)===De(e);if(e.options)return i.jsx(Y,{className:"px-2 mt-2 overflow-visible",heading:i.jsx("span",{className:"cursor-default font-bold text-sm text-gray-800 whitespace-nowrap",children:e.label}),children:i.jsx(Re,{options:e.options,selected:t,onOptionSelect:s,multiple:a,isSmall:n,optionTooltip:l})},r);{const t=i.jsx(W,{value:e.label,className:C("px-4 cursor-pointer hover:bg-gray-100 font-light border-b border-gray-100 whitespace-nowrap",d&&"bg-primary-400/10"),onSelect:()=>s(e),children:i.jsxs("div",{className:"flex justify-between items-center w-full gap-2",children:[i.jsx("span",{className:"whitespace-nowrap",children:e.label}),d&&i.jsx(o.FontAwesomeIcon,{icon:"check",className:"text-primary-600 h-3 w-3 ml-2 flex-shrink-0"})]})},r);if(l){const s="function"==typeof l?l(e):null==l?void 0:l[e.path];return s?i.jsx(q,{tooltipText:s,side:"right",children:t},r):t}return t}})})},_e=({options:t,selected:s=[],onSelect:r,trigger:a,children:n,className:l,multiple:o=!1,isSearchable:d=!0,isSmall:c=!1,isShadow:u=!0,showSelectedSummary:m=!0,onSearchChange:p,searchPlaceholder:h="Search...",shouldFilter:f=!0,optionTooltip:x,searchFields:g=["label"]})=>{const[y,b]=e.useState(!1),[v,w]=e.useState(""),j=f?((e,t)=>{if(!t)return e;const s=t.toLowerCase(),r=(e=>{const t=[],s=e=>{e.forEach(e=>{e.options?s(e.options):e.isLoading||t.push(e)})};return s(e),t})(e).filter(e=>g.some(t=>{var r;return null===(r=e[t])||void 0===r?void 0:r.toLowerCase().includes(s)})),a=new Set(r.map(e=>e.path)),n=e=>e.map(e=>{if(e.options){const s=((e,t)=>e.toLowerCase().includes(t.toLowerCase()))(e.label,t);if(s)return{...e,matchedGroup:!0};const r=n(e.options);return r.length>0?{...e,options:r,matchedGroup:!1}:null}return e.isLoading||a.has(e.path)?e:null}).filter(Boolean);return n(e)})(t,v):t,N=e=>{if(o){const t=s.some(t=>De(t)===De(e))?s.filter(t=>De(t)!==De(e)):[...s,e];r(t)}else r(e),b(!1)};return i.jsx("div",{className:C("relative flex",l),children:i.jsxs(D,{open:y,onOpenChange:b,children:[i.jsx(F,{asChild:!0,className:"flex items-center gap-1 text-gray-500 text-sm "+(c?"border-none px-1 text-xs py-0":"border-b px-2 py-1"),children:n||a(s)}),i.jsx(R,{align:"start",sideOffset:4,className:C("bg-white border w-auto",!u&&"shadow-none"),children:i.jsx(U,{children:i.jsxs(H,{shouldFilter:!1,children:[d&&i.jsx(E,{placeholder:h,className:"px-4 py-2 mb-2 border-b border-gray-300",onValueChange:e=>{w(e),p&&p(e)}}),i.jsxs(V,{children:[o&&s.length>0&&("always"===m||!1!==m&&t.length>6)&&i.jsx(Fe,{selected:s,onRemove:N,onClearAll:()=>r([])}),i.jsx(Re,{options:j,selected:s,onOptionSelect:N,multiple:o,isSmall:c,optionTooltip:x}),0===j.length&&i.jsx(B,{})]})]})})})]})})},Ie={number:["<",">","<=",">="],string:["contains","beginswith"],date:["<",">","<=",">="],boolean:[],select:[],__all__:["=","!="]},Pe={number:"number",string:"text",date:"date"},Oe=({removeFilter:t,filter:s,keys:r,types:a,handleFilterChange:n,options:l,keysMeta:d})=>{var c;const{key:u,id:m,operator:p,value:h}=s,f=e.useMemo(()=>u&&a[u],[u,a]),x=e.useMemo(()=>f?[...Ie.__all__,...Ie[f]]:Ie.__all__,[f]),g=e.useMemo(()=>Pe[f]||"text",[f]),y=e.useMemo(()=>{var e;return"select"===f&&null!=l&&null!==(e=l[u])&&void 0!==e&&e.length?l[u]:[]},[f,l,u]),b=e.useMemo(()=>"date"===f&&h?Ne(h,"date"):null,[f,h]),v=(e,t)=>{let s;s="key"===e?{[e]:t,operator:"=",value:Ne("",a[t])}:{[e]:t},n(m,s)};return i.jsxs("div",{className:"flex gap-2 items-center w-full",children:[i.jsxs("div",{className:"flex gap-4 items-center w-full",children:[i.jsx("div",{className:"flex-shrink-0 w-[200px]",children:i.jsx(_e,{selected:u,onSelect:e=>v("key",e.path),options:r,children:i.jsxs("button",{className:"border-b-[1px] pl-2 text-sm focus:ring-0 flex items-center w-full h-9",children:[i.jsx(o.FontAwesomeIcon,{icon:"sort",className:"h-3 w-3"}),i.jsx("span",{className:"truncate",children:null===(c=d[u])||void 0===c?void 0:c.label})]})})}),i.jsx("div",{className:"flex-shrink-0 w-[75px]",children:i.jsxs(_,{onValueChange:e=>v("operator",e),value:p,children:[i.jsx(P,{iconClassName:"h-3 w-3 text-gray-500",className:"border-0 border-b-[1px] shadow-none focus:ring-0 text-sm pl-0 text-gray-600 w-full",children:i.jsx(I,{className:"text-slate-700 truncate",placeholder:"Select"})}),i.jsx(L,{className:"text-slate-700",children:x.map(e=>i.jsx(z,{value:e,children:e},e))})]})}),i.jsxs("div",{className:"flex-1",children:["select"===f&&i.jsx(_e,{options:y,selected:d[u].multiple?Array.isArray(h)?h.map(e=>y.find(t=>t.path===e)||e):[]:y.find(e=>e.path===h)||h,onSelect:e=>{const t=Array.isArray(e)?e.map(e=>e.path??e):e.path??e;v("value",t)},multiple:d[u].multiple??!1,isSearchable:!0,isSmall:!1,showSelectedSummary:!1,trigger:e=>{var t;return((e,t,s,r,a,n)=>i.jsx(S,{selected:e,leftIcon:"sort",rightIcon:null,className:"border-b-[1px] pl-2 text-sm focus:ring-0 flex items-center w-full h-9",iconClassName:"mr-2",placeholder:n,maxWidth:"flex-1"}))(e,0,0,0,0,d[u].multiple?"Select":(null===(t=y.find(e=>e.path===h))||void 0===t?void 0:t.label)||"Select")}}),"date"===f&&i.jsx($e,{placeholder:"Enter a date",value:b,format:"yyyy MMM dd",onChange:e=>v("value",e),className:"w-full text-sm",calendarClassName:"border-t-2 border-primary-600"},"date"),"boolean"===f&&i.jsx("div",{className:"flex justify-center items-center h-full text-center",children:i.jsx(q,{tooltipText:"Toggle to enable or disable",className:"mr-2 text-gray-500",children:i.jsx(G,{onCheckedChange:e=>v("value",!!e),checked:!!h,className:"w-10 h-4.5 rounded-full border-transparent transition-colors data-[state=checked]:bg-primary-700 data-[state=unchecked]:bg-gray-500",thumbStyle:"w-4 h-4 bg-white rounded-full shadow-md transform transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0"})})}),("string"===f||"number"===f)&&i.jsx($,{defaultValue:h,placeholder:"Enter a value",onBlur:e=>{var t;return v("value",Ne(null==e||null===(t=e.target)||void 0===t?void 0:t.value,f))},type:g,className:"pl-2 bg-transparent text-sm rounded-none border-t-0 border-r-0 border-b-[1px] border-l-0 focus:ring-2 focus:ring-primary-500 focus:border-transparent h-9 w-full"})]})]}),i.jsx(q,{tooltipText:"Remove item",children:i.jsx("div",{onClick:()=>t(m),className:"cursor-pointer",children:i.jsx(o.FontAwesomeIcon,{icon:"multiply"})})})]})},Te=()=>{var e;return null===(e=crypto)||void 0===e?void 0:e.randomUUID()},Le=(e={},t)=>({id:Te(),...t,...e,isGroup:!1}),ze=(e=[],t="and")=>({id:Te(),isGroup:!0,operator:t.toLowerCase(),rules:e}),Ge=({onAddCondition:e,onAddGroup:t,canAddGroup:s=!0,level:r=0})=>{const a=r>=2,n="text-gray-600 font-medium cursor-pointer hover:text-primary-600 text-sm";return i.jsxs("div",{className:"flex gap-4",children:[i.jsx("span",{className:n,onClick:e,children:"+ Add condition"}),s&&(a?i.jsx(q,{tooltipText:"Filter condition can only be nested three level deep",children:i.jsx("span",{className:"text-gray-400 text-sm cursor-not-allowed",children:"+ Add condition group"})}):i.jsx("span",{className:n,onClick:t,children:"+ Add condition group"}))]})},qe=({value:e,onChange:t})=>i.jsxs(_,{defaultValue:e.toUpperCase(),onValueChange:e=>t(e.toLowerCase()),children:[i.jsx(P,{iconClassName:"h-3 w-3 text-gray-500",className:"border-0 border-b-[1px] shadow-none focus:ring-0 text-sm pl-0 text-gray-600 w-[55px]",children:i.jsx(I,{})}),i.jsxs(L,{children:[i.jsx(z,{value:"AND",children:"and"}),i.jsx(z,{value:"OR",children:"or"})]})]}),Ue=({group:e,onChange:t,onRemove:s,keys:r,types:a,options:n,defaultCondition:l,keysMeta:d,level:c=0,isRoot:u=!1})=>{const m=e.rules||[],p=e.operator||e.logic||"and",h=(s,r)=>{const a=m.map(e=>e.id===s?r:e);t({...e,rules:a})},f=s=>{const r=m.filter(e=>e.id!==s);t({...e,rules:r})},x=s=>{t({...e,rules:[...m,s]})},g=s=>{t({...e,operator:s.toLowerCase()})},y=!u,b=!u,v=0===m.length;return i.jsxs("div",{className:C("flex flex-col gap-4",y&&"rounded-sm py-2 px-4 border bg-gray-100"),children:[v&&b&&i.jsx("div",{className:"text-sm font-light",children:"Add conditions or sub-groups."}),m.map((e,t)=>i.jsxs("div",{className:"flex gap-2 items-start",children:[0===t?i.jsx("span",{className:"w-[55px] pt-2 text-sm font-medium text-gray-700",children:"Where"}):1===t?i.jsx(qe,{value:p,onChange:g}):i.jsx("span",{className:"w-[55px] pt-2 text-sm text-gray-700",children:p}),i.jsx("div",{className:"flex-1",children:e.isGroup?i.jsx(Ue,{group:e,onChange:t=>h(e.id,t),onRemove:()=>f(e.id),keys:r,types:a,options:n,defaultCondition:l,keysMeta:d,level:c+1,isRoot:!1}):i.jsx(Oe,{filter:e,handleFilterChange:(t,s)=>h(e.id,{...e,...s}),removeFilter:()=>f(e.id),types:a,keys:r,options:n,keysMeta:d})})]},e.id)),b&&i.jsxs("div",{className:"flex justify-between gap-10 items-center pt-2 border-t border-gray-200",children:[i.jsx(Ge,{onAddCondition:()=>x(Le({},l)),onAddGroup:()=>x(ze()),level:c}),i.jsx(q,{tooltipText:"Remove group",children:i.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-900 transition-colors",children:i.jsx(o.FontAwesomeIcon,{icon:"multiply"})})})]})]})},He=({onAddCondition:e,onAddGroup:t})=>i.jsxs("div",{className:"flex gap-6",children:[i.jsx("span",{className:"text-gray-600 font-medium cursor-pointer hover:text-primary-600 text-sm",onClick:e,children:"+ Add condition"}),i.jsx("span",{className:"text-gray-600 font-medium cursor-pointer hover:text-primary-600 text-sm",onClick:t,children:"+ Add condition group"})]}),Ve=e=>{if(!e)return null;if(!e.isGroup){const{id:t,isGroup:s,...r}=e;return r.key&&r.operator?r:null}const t=(e.rules||[]).map(e=>Ve(e)).filter(Boolean);return 0===t.length?null:{operator:e.operator||"and",rules:t}},Ee=e=>{return e&&e.operator&&Array.isArray(e.rules)?{id:null===(t=crypto)||void 0===t?void 0:t.randomUUID(),isGroup:!0,operator:e.operator,rules:e.rules.map(e=>{return e.operator&&e.rules?Ee(e):{id:null===(t=crypto)||void 0===t?void 0:t.randomUUID(),isGroup:!1,...e};var t})}:null;var t},We=({keys:t,types:s,initialFilters:r,updateFilters:a,options:n,defaultCondition:l,keysMeta:d,closePopover:c})=>{const[u,m]=e.useState(()=>r?r.isGroup?r:Ee(r):null),p=((null==u?void 0:u.rules)||[]).length>0,h=Boolean(u&&p),f=e=>{if(!u)return;const t=u.rules||[];m({...u,rules:[...t,e]})};return e.useEffect(()=>{if(r){const e=r.isGroup?r:Ee(r);m(e)}},[r]),i.jsxs("div",{className:"text-slate-600 w-full",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(o.FontAwesomeIcon,{icon:"filter",className:"text-primary-700",size:"lg"}),i.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Filter"})]}),u?i.jsxs(i.Fragment,{children:[h&&i.jsx("div",{className:"flex gap-2 items-start mb-4",children:i.jsx("div",{className:"flex-1",children:i.jsx(Ue,{group:u,onChange:m,onRemove:()=>m(null),keys:t,types:s,options:n,defaultCondition:l,keysMeta:d,level:0,isRoot:!0})})}),i.jsxs("div",{className:"flex justify-between items-center gap-10",children:[i.jsx(He,{onAddCondition:()=>f(Le({},l)),onAddGroup:()=>f(ze())}),i.jsxs(M,{className:"rounded-sm shadow-sm text-xs transition-all hover:shadow-md",onClick:()=>{const e=Ve(u);a(e),c()},children:[i.jsx(o.FontAwesomeIcon,{icon:"filter",className:"mr-1",size:"sm"}),i.jsx("span",{children:"Apply"})]})]})]}):i.jsx(He,{onAddCondition:()=>{m(ze([Le({},l)]))},onAddGroup:()=>{const e=ze();m(ze([e]))}})]})};function Ye({className:e,closePopover:t,options:s,filterData:r,defaultCondition:a,filters:n,updateFilters:l,keysMeta:o}){return i.jsx("div",{className:C(e),children:i.jsx(We,{keys:(null==r?void 0:r.fields)||[],types:(null==r?void 0:r.types)||{},initialFilters:n,updateFilters:l,options:s,defaultCondition:a,keysMeta:o,closePopover:t})})}function Be({options:t,filterData:s,defaultCondition:r,filters:a,updateFilters:n,keysMeta:l,filterProps:d}){const[c,u]=e.useState(!1),m=d||{options:t||{},filterData:s,defaultCondition:r,filters:a,updateFilters:n,keysMeta:l},p=Me(m.filters);return m.filterData?i.jsxs(D,{className:"z-10",style:{zIndex:10},open:c,onOpenChange:()=>u(!c),children:[i.jsx(F,{asChild:!0,children:i.jsxs(M,{className:"rounded-sm h-10 w-10 text-lg shadow-lg relative",children:[i.jsx(o.FontAwesomeIcon,{icon:"filter"}),p>0&&i.jsx("span",{className:"absolute top-0 right-0 text-xs bg-primary-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-center -mr-2 -mt-2",children:p})]})}),i.jsx(R,{className:"max-w-[60vw] w-auto max-h-[70vh] overflow-y-auto rounded-none bg-gray-50 border-t-2 border-t-primary-700 p-6",children:i.jsx(U,{children:i.jsx(Ye,{closePopover:()=>u(!1),options:m.options,filterData:m.filterData,defaultCondition:m.defaultCondition,filters:m.filters,updateFilters:m.updateFilters,keysMeta:m.keysMeta})})})]}):null}function Je({value:e,onChange:t,placeholder:r="Search..."}){return i.jsxs("div",{className:"relative w-full max-w-sm group",children:[i.jsx(s.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 group-focus-within:text-primary-500 transition-colors"}),i.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:r,className:"w-full h-10 pl-9 pr-9 text-sm border border-slate-300 rounded-sm bg-white text-slate-700 placeholder:text-slate-400 focus:outline-none focus:border-primary-500/50"}),e&&i.jsx("button",{onClick:()=>t(""),className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors",children:i.jsx(s.X,{className:"w-3.5 h-3.5"})})]})}function Ze(){return i.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-16 h-16 border-4 border-slate-200 rounded-full"}),i.jsx("div",{className:"w-16 h-16 border-4 border-primary-600 rounded-full border-t-transparent animate-spin absolute top-0 left-0"})]}),i.jsx("h3",{className:"text-base font-semibold text-slate-900 mt-6 mb-1",children:"Loading data"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Please wait while we fetch your data"})]})}function Xe({error:e,onRetry:t}){return i.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[i.jsx("div",{className:"w-16 h-16 mb-4 rounded-full bg-red-50 flex items-center justify-center",children:i.jsx(s.AlertCircle,{className:"w-8 h-8 text-red-600"})}),i.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-1",children:"Unable to load data"}),i.jsx("p",{className:"text-sm text-slate-500 mb-6",children:e}),t&&i.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-sm hover:bg-primary-700 transition-colors shadow-sm",children:"Try again"})]})}function Qe({message:e="No data available",isFiltered:t}){return i.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[i.jsx("div",{className:"w-16 h-16 mb-4 rounded-full bg-slate-50 flex items-center justify-center",children:t?i.jsx(s.Search,{className:"w-8 h-8 text-slate-400"}):i.jsx(s.Database,{className:"w-8 h-8 text-slate-400"})}),i.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-1",children:t?"No results found":"No data available"}),i.jsx("p",{className:"text-sm text-slate-500",children:t?"Try adjusting your search or filters":e})]})}function Ke(e){if(Array.isArray(e))return e;if("object"==typeof e&&null!==e){const t=["data","results","items","list","records","rows"];for(const s of t)if(Array.isArray(e[s]))return e[s];const s=Object.values(e).filter(e=>Array.isArray(e));return s.length>0?s.flat():[e]}return[]}function et(e,t){if(!t||!t.fields)return t;const s={...t};return t.fields.forEach(t=>{if("select"===t.type&&!s[t.path]){const r=new Set;e.forEach(e=>{const s=(a=e,t.path.split(".").reduce((e,t)=>null==e?void 0:e[t],a));var a;null!=s&&""!==s&&r.add(String(s))}),s[t.path]=Array.from(r).sort().map(e=>({path:e,label:e}))}}),s}function tt({table:e,rowsPerPageOptions:t=[5,10,25,50]}){const r=e.getState().pagination.pageIndex,a=e.getPageCount(),n=e.getState().pagination.pageSize,l=e.getFilteredRowModel().rows.length,o=0===l?0:r*n+1,d=Math.min((r+1)*n,l),c=function(e,t){const s=[];if(t<=7)for(let e=0;e<t;e++)s.push(e);else if(s.push(0),e<=2){for(let e=1;e<=4;e++)s.push(e);s.push("ellipsis"),s.push(t-1)}else if(e>=t-3){s.push("ellipsis");for(let e=t-5;e<t-1;e++)s.push(e);s.push(t-1)}else{s.push("ellipsis");for(let t=e-1;t<=e+1;t++)s.push(t);s.push("ellipsis"),s.push(t-1)}return s}(r,a);return i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-slate-200 bg-slate-50",children:[i.jsx("div",{className:"flex items-center gap-2 text-sm min-w-[140px]",children:i.jsxs("span",{className:"text-slate-600",children:["Showing ",i.jsx("span",{className:"font-semibold text-slate-500",children:o})," to"," ",i.jsx("span",{className:"font-semibold text-slate-500",children:d})," of"," ",i.jsx("span",{className:"font-semibold text-slate-500",children:l})," results"]})}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:()=>e.setPageIndex(0),disabled:!e.getCanPreviousPage(),className:"p-2 rounded-sm border border-slate-200 bg-white hover:bg-slate-50 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-white transition-all","aria-label":"First page",children:i.jsx(s.ChevronsLeft,{className:"w-4 h-4 text-slate-600"})}),i.jsx("button",{onClick:()=>e.previousPage(),disabled:!e.getCanPreviousPage(),className:"p-2 rounded-sm border border-slate-200 bg-white hover:bg-slate-50 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-white transition-all","aria-label":"Previous page",children:i.jsx(s.ChevronLeft,{className:"w-4 h-4 text-slate-600"})}),i.jsx("div",{className:"flex items-center gap-1 mx-2",children:c.map((t,s)=>"ellipsis"===t?i.jsx("div",{className:"px-2 flex items-center",children:i.jsx("span",{className:"text-slate-400 font-medium",children:"..."})},`ellipsis-${s}`):i.jsx("button",{onClick:()=>e.setPageIndex(t),className:"min-w-[2.5rem] h-10 px-3 rounded-sm font-medium text-sm transition-all "+(r===t?"bg-primary-700 text-white shadow-sm":"bg-white text-slate-700 border border-slate-200 hover:bg-slate-50 hover:border-slate-300"),"aria-label":`Page ${t+1}`,"aria-current":r===t?"page":void 0,children:t+1},t))}),i.jsx("button",{onClick:()=>e.nextPage(),disabled:!e.getCanNextPage(),className:"p-2 rounded-sm border border-slate-200 bg-white hover:bg-slate-50 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-white transition-all","aria-label":"Next page",children:i.jsx(s.ChevronRight,{className:"w-4 h-4 text-slate-600"})}),i.jsx("button",{onClick:()=>e.setPageIndex(a-1),disabled:!e.getCanNextPage(),className:"p-2 rounded-sm border border-slate-200 bg-white hover:bg-slate-50 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-white transition-all","aria-label":"Last page",children:i.jsx(s.ChevronsRight,{className:"w-4 h-4 text-slate-600"})})]}),i.jsxs("div",{className:"flex items-center gap-3 min-w-[140px] justify-end",children:[i.jsx("label",{htmlFor:"rows-per-page",className:"text-sm font-medium text-slate-600 whitespace-nowrap",children:"Rows per page"}),i.jsx("select",{id:"rows-per-page",value:n,onChange:t=>e.setPageSize(Number(t.target.value)),className:"px-2 py-2 border border-slate-200 rounded-sm bg-white text-slate-700 text-sm font-medium hover:border-slate-300 focus:outline-none focus:border-primary-500/50 cursor-pointer",children:t.map(e=>i.jsx("option",{value:e,children:e},e))})]})]})}exports.DataTable=function({data:r,columns:a=[],enableSorting:n=!0,enablePagination:l=!0,enableSearch:o=!1,enableFilter:d=!1,searchPlaceholder:c="Search...",filterConfig:u=null,pageSize:m=10,rowsPerPageOptions:p=[5,10,25,50],tableTitle:h="Data",tableSubtitle:f,onRowClick:x,className:g="",stickyHeader:y=!1,zebraStripes:b=!1,emptyMessage:v}){const[w,j]=e.useState([]),[N,C]=e.useState("string"==typeof r),[k,S]=e.useState(null),[A,M]=e.useState([]),[$,D]=e.useState(""),[F,R]=e.useState({pageIndex:0,pageSize:m}),[_,I]=e.useState(u),{filteredData:P,filterProps:O,hasActiveFilters:T}=function(t=[],s=null){var r;const[a,n]=e.useState(null),l=e.useMemo(()=>{var e,t;if(null==s||!s.fields)return{fieldMeta:null,keysMeta:{},filterData:null,defaultCondition:null};const{fields:r}=s,a={all:{map:r.reduce((e,t)=>(e[t.path]={label:t.label,type:t.type||"string"},e),{})}},n=r.reduce((e,t)=>(e[t.path]={label:t.label,type:t.type||"string",multiple:t.multiple??!1},e),{});return{fieldMeta:a,keysMeta:n,filterData:{types:r.reduce((e,t)=>(e[t.path]=t.type||"string",e),{}),fields:r},defaultCondition:s.defaultCondition?{id:s.defaultCondition.key,key:s.defaultCondition.key,label:(null===(e=n[s.defaultCondition.key])||void 0===e?void 0:e.label)||s.defaultCondition.key,operator:s.defaultCondition.operator,value:s.defaultCondition.value,type:(null===(t=n[s.defaultCondition.key])||void 0===t?void 0:t.type)||"string",isGroup:!1}:null}},[s]),o=e.useMemo(()=>{if(!s)return{};const e={};return Object.keys(s).forEach(t=>{Array.isArray(s[t])&&(e[t]=s[t])}),e},[s]),i=e.useMemo(()=>a&&l.fieldMeta?Ae(t,a,0,l.fieldMeta):t,[t,a,l.fieldMeta]),d=e.useMemo(()=>!!a&&(Array.isArray(a)?a.length>0:!!a.rules&&a.rules.length>0),[a]),c=l.filterData?{filterData:l.filterData,defaultCondition:l.defaultCondition,filters:a,updateFilters:n,keysMeta:l.keysMeta,options:o}:null;return{filteredData:i,filters:a,setFilters:n,filterProps:c,clearFilters:()=>n(null),hasActiveFilters:d,filterCount:d?Array.isArray(a)?a.length:(null===(r=a.rules)||void 0===r?void 0:r.length)||0:0}}(w,_);e.useEffect(()=>{(async()=>{if("string"==typeof r){C(!0),S(null);try{const e=await fetch(r);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=Ke(await e.json());if(j(t),d&&u){const e=et(t,u);I(e)}}catch(e){S(e.message),j([])}finally{C(!1)}}else{const e=Ke(r);if(j(e),C(!1),d&&u){const t=et(e,u);I(t)}}})()},[r]);const L=t.useReactTable({data:P,columns:a,state:{sorting:A,globalFilter:$,pagination:F},onSortingChange:M,onGlobalFilterChange:D,onPaginationChange:R,getCoreRowModel:t.getCoreRowModel(),getSortedRowModel:t.getSortedRowModel(),getFilteredRowModel:t.getFilteredRowModel(),getPaginationRowModel:t.getPaginationRowModel(),enableSorting:n,globalFilterFn:"includesString"}),z=L.getFilteredRowModel().rows.length>0,G=""!==$||T;return i.jsx("div",{className:`w-full ${g}`,children:i.jsxs("div",{className:"bg-white rounded-sm border border-slate-200 shadow-lg overflow-hidden",children:[(h||o||d)&&i.jsx("div",{className:"px-6 py-5 bg-slate-50",children:i.jsxs("div",{className:"flex items-center justify-between gap-6",children:[h&&i.jsxs("div",{className:"flex-shrink-0",children:[i.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:h}),f&&i.jsx("p",{className:"text-sm text-slate-500 mt-1",children:f})]}),i.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-end",children:[o&&!N&&!k&&i.jsx(Je,{value:$,onChange:D,placeholder:c}),d&&O&&!N&&!k&&i.jsx(Be,{filterProps:O})]})]})}),i.jsx("div",{className:"overflow-x-auto "+(y?"max-h-[600px] overflow-y-auto":""),children:N?i.jsx(Ze,{}):k?i.jsx(Xe,{error:k,onRetry:()=>"string"==typeof r&&j([])}):i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-slate-50 backdrop-blur-sm "+(y?"sticky top-0 z-10":""),children:L.getHeaderGroups().map(e=>i.jsx("tr",{className:"border-b-2 border-slate-200",children:e.headers.map(e=>i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-700 uppercase tracking-wider",children:e.isPlaceholder?null:i.jsxs("div",{className:"flex items-center gap-2 "+(e.column.getCanSort()?"cursor-pointer select-none group":""),onClick:e.column.getToggleSortingHandler(),children:[t.flexRender(e.column.columnDef.header,e.getContext()),n&&e.column.getCanSort()&&i.jsx("span",{className:"text-slate-400 group-hover:text-slate-600 transition-colors",children:"asc"===e.column.getIsSorted()?i.jsx(s.ChevronUp,{className:"w-4 h-4 text-primary-600"}):"desc"===e.column.getIsSorted()?i.jsx(s.ChevronDown,{className:"w-4 h-4 text-primary-600"}):i.jsx(s.ChevronsUpDown,{className:"w-4 h-4"})})]})},e.id))},e.id))}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:w.length>0&&z?L.getRowModel().rows.map((e,s)=>i.jsx("tr",{onClick:()=>null==x?void 0:x(e.original),className:`transition-all ${b&&s%2==1?"bg-slate-50/40":"bg-white"} ${x?"cursor-pointer hover:bg-primary-50/50 hover:shadow-sm":"hover:bg-slate-50/50"}`,children:e.getVisibleCells().map(e=>i.jsx("td",{className:"px-6 py-4 text-sm text-slate-700",children:t.flexRender(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):i.jsx("tr",{children:i.jsx("td",{colSpan:a.length,children:i.jsx(Qe,{message:v,isFiltered:G})})})})]})}),l&&!N&&!k&&w.length>0&&z&&i.jsx(tt,{table:L,rowsPerPageOptions:p})]})})};
//# sourceMappingURL=index.js.map
