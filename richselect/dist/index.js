"use strict";var e=require("react"),s=require("@radix-ui/react-slot"),a=require("class-variance-authority"),t=require("clsx"),r=require("tailwind-merge"),o=require("@fortawesome/react-fontawesome"),n=require("react/jsx-runtime"),i=require("@radix-ui/react-popover"),l=require("@fortawesome/fontawesome-svg-core"),d=require("@fortawesome/free-solid-svg-icons"),c=require("@radix-ui/react-select"),m=require("@radix-ui/react-switch"),p=require("@radix-ui/react-tooltip"),f=require("cmdk");function u(e){var s=Object.create(null);return e&&Object.keys(e).forEach(function(a){if("default"!==a){var t=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(s,a,t.get?t:{enumerable:!0,get:function(){return e[a]}})}}),s.default=e,Object.freeze(s)}require("react-day-picker");var x=u(e),h=u(i),g=u(c),b=u(m),y=u(p);function w(...e){return r.twMerge(t.clsx(e))}const N=({className:e})=>n.jsx(o.FontAwesomeIcon,{icon:"spinner",className:w("animate-spin text-primary-600",e)}),j=e.forwardRef(({selected:e,leftIcon:s,rightIcon:a,className:t,iconClassName:r,placeholder:i,maxWidth:l="max-w-20",...d},c)=>n.jsxs("button",{ref:c,className:w("flex items-center border-b pb-1 px-2 text-gray-500 text-sm font-light cursor-pointer min-w-0 overflow-hidden",t),...d,children:[n.jsxs("div",{className:"flex text-start items-center justify-center truncate min-w-0",children:[s&&n.jsx(o.FontAwesomeIcon,{icon:s,className:w("h-3 w-3 text-secondary-500 flex-shrink-0",r)}),n.jsx("span",{className:`truncate min-w-0 ${l} ${s?"pl-1":""}`,children:e&&e.length?Array.isArray(e)?`${e.length} selected`:e.label:i})]}),a&&n.jsx(o.FontAwesomeIcon,{icon:a,className:"h-3 w-3 pl-1 flex-shrink-0"})]}));j.displayName="SelectTrigger";const v=a.cva("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary-700 text-primary-50 shadow hover:bg-primary-800",danger:"bg-red-700 text-red-50 shadow-sm hover:bg-red-800",outline:"border border-input shadow-sm hover:bg-gray-100",secondary:"bg-secondary-700 text-secondary-50 shadow-sm hover:bg-secondary-800",ghost:"hover:bg-primary-50",link:"text-primary-800 underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),C=e.forwardRef(({className:e,variant:a,size:t,asChild:r=!1,loading:o=!1,children:i,...l},d)=>{const c=r?s.Slot:"button",m=r?n.jsxs("span",{className:"inline-flex items-center",children:[o&&n.jsx(N,{className:"mr-2 h-4 w-4 animate-spin text-current"}),i]}):n.jsxs(n.Fragment,{children:[o&&n.jsx(N,{className:"mr-2 h-4 w-4 animate-spin text-current"}),i]});return n.jsx(c,{className:w(v({variant:a,size:t,className:e})),title:l.title,ref:d,disabled:l.disabled||o,...l,children:m})});C.displayName="Button";const k=x.forwardRef(({className:e,type:s,...a},t)=>n.jsx("input",{type:s,className:w("flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...a}));k.displayName="Input";const S=h.Root,R=h.Trigger,I=x.forwardRef(({className:e,align:s="center",sideOffset:a=4,...t},r)=>n.jsx(h.Portal,{children:n.jsx(h.Content,{ref:r,align:s,sideOffset:a,className:w("bg-popover text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));I.displayName=h.Content.displayName,l.config.autoAddCss=!1,l.library.add(d.faCheck,d.faXmark,d.faFilter);const A=x.forwardRef(({iconClassName:e,className:s,isIconShow:a=!0,children:t,...r},i)=>n.jsxs(g.Trigger,{ref:i,className:w("flex h-9 w-full items-center whitespace-nowrap rounded-sm border bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...r,children:[n.jsx(g.Icon,{asChild:!0,children:a&&n.jsx(o.FontAwesomeIcon,{icon:"sort",className:w("mr-2 w-4 h-4",e)})}),t]}));A.displayName=g.Trigger.displayName;const q=x.forwardRef(({className:e,...s},a)=>n.jsx(g.ScrollUpButton,{ref:a,className:w("flex justify-center items-center py-1 cursor-default",e),...s,children:n.jsx(o.FontAwesomeIcon,{icon:"chevron-up"})}));q.displayName=g.ScrollUpButton.displayName;const F=x.forwardRef(({className:e,...s},a)=>n.jsx(g.ScrollDownButton,{ref:a,className:w("flex justify-center items-center py-1 cursor-default",e),...s,children:n.jsx(o.FontAwesomeIcon,{icon:"chevron-down"})}));F.displayName=g.ScrollDownButton.displayName;const T=x.forwardRef(({className:e,children:s,position:a="popper",...t},r)=>n.jsx(g.Portal,{children:n.jsxs(g.Content,{ref:r,className:w("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-sm border bg-white text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...t,children:[n.jsx(q,{}),n.jsx(g.Viewport,{className:w("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),n.jsx(F,{})]})}));T.displayName=g.Content.displayName;const O=x.forwardRef(({className:e,...s},a)=>n.jsx(g.Label,{ref:a,className:w("px-2 py-1.5 text-sm font-semibold opacity-70",e),...s}));O.displayName=g.Label.displayName;const z=x.forwardRef(({className:e,children:s,...a},t)=>n.jsxs(g.Item,{ref:t,className:w("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-slate-100 focus:text-primary-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[n.jsx("span",{className:"flex absolute right-2 justify-center items-center w-3.5 h-3.5",children:n.jsx(g.ItemIndicator,{children:n.jsx(o.FontAwesomeIcon,{icon:"check",className:"w-4 h-4"})})}),n.jsx(g.ItemText,{children:s})]}));z.displayName=g.Item.displayName;const L=x.forwardRef(({className:e,...s},a)=>n.jsx(g.Separator,{ref:a,className:w("-mx-1 my-1 h-px bg-muted",e),...s}));L.displayName=g.Separator.displayName;const P=x.forwardRef(({className:e,thumbStyle:s,...a},t)=>n.jsx(b.Root,{className:w("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary-600 data-[state=unchecked]:bg-gray-400",e),...a,ref:t,children:n.jsx(b.Thumb,{className:w("pointer-events-none block h-5 w-5 rounded-full bg-primary-300 shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0",s)})}));P.displayName=b.Root.displayName;const B=({icon:e,children:s,tooltipText:a,side:t="top",className:r})=>n.jsxs(y.Root,{delayDuration:0,children:[n.jsx(y.Trigger,{asChild:!0,children:n.jsxs("span",{children:[e&&n.jsx(o.FontAwesomeIcon,{icon:e,className:r}),s]})}),n.jsxs(y.Content,{side:t,className:"bg-black text-white text-xs rounded px-2 py-1 shadow-md",children:[a,n.jsx(y.Arrow,{className:"fill-black"})]})]}),D=y.Provider,_=f.Command,G=x.forwardRef((e,s)=>{const{className:a,...t}=e;return n.jsx(f.Command.List,{ref:s,className:w("max-h-[340px] overflow-y-auto overflow-x-hidden scroll-smooth scroll-padding",a),...t})});G.displayName=f.Command.List.displayName;const E=x.forwardRef((e,s)=>{const{className:a,...t}=e;return n.jsx(f.Command.Input,{ref:s,className:w("flex h-10 w-full border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0 disabled:cursor-not-allowed disabled:opacity-50",a),...t})});E.displayName=f.Command.Input.displayName;const V=x.forwardRef((e,s)=>{const{className:a,...t}=e;return n.jsx(f.Command.Item,{ref:s,className:w("relative flex cursor-default select-none items-center px-2 py-1.5 text-sm outline-none transition-colors duration-200 ",a),...t})});V.displayName=f.Command.Item.displayName;const $=x.forwardRef((e,s)=>{const{className:a,...t}=e;return n.jsx(f.Command.Group,{ref:s,className:w("overflow-hidden text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-0 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",a),...t})});$.displayName=f.Command.Group.displayName;const U=x.forwardRef((e,s)=>{const{className:a,...t}=e;return n.jsx(f.Command.Separator,{ref:s,className:w("-mx-1 h-px bg-border",a),...t})});U.displayName=f.Command.Separator.displayName;const M=x.forwardRef(({className:e,...s},a)=>n.jsx(f.Command.Dialog,{ref:a,className:w("fixed inset-0 z-50 flex items-start justify-center p-4 pt-[25vh] backdrop-blur-md",e),...s,children:n.jsx("div",{className:"w-full max-w-md rounded-md bg-background shadow-lg",children:s.children})}));M.displayName=f.Command.Dialog.displayName;const W=x.forwardRef(({className:e,...s},a)=>n.jsx("div",{ref:a,className:w("flex items-center justify-center p-4 text-sm text-muted-foreground",e),...s,children:"No results found."}));W.displayName="CommandEmpty";const X=e=>"object"==typeof e?e.path:e,H=({selected:e,onRemove:s,onClearAll:a})=>{const t=e.slice().sort((e,s)=>{const a="object"==typeof e?e.label:e,t="object"==typeof s?s.label:s;return a.localeCompare(t)});return n.jsxs("div",{className:"relative flex items-center justify-between px-4 pt-2 pb-4 gap-2 border-b pr-8",children:[n.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(e=>n.jsxs("span",{onClick:a=>{a.stopPropagation(),s(e)},className:"flex items-center bg-primary-400/10 text-[10px] px-1 py-0.5 rounded-sm cursor-pointer hover:bg-gray-200 transition",children:["object"==typeof e?e.label:e,n.jsx(o.FontAwesomeIcon,{icon:"close",className:"h-2 w-2 ml-1 text-primary-600"})]},X(e)))}),n.jsx("div",{onClick:e=>{e.stopPropagation(),a()},className:"absolute top-1 right-2 cursor-pointer",children:n.jsx(B,{tooltipText:"Clear all",icon:"close",className:"h-4 w-4 mr-1 text-gray-500 hover:text-gray-800 transition"})})]})},J=({options:e,selected:s,onOptionSelect:a,className:t,multiple:r,isSmall:i,optionTooltip:l})=>n.jsx("div",{className:w(t),children:e.map((e,t)=>{if(e.isLoading)return n.jsx(V,{value:e.label,className:"px-4 py-2 text-sm text-gray-500 cursor-default",disabled:!0,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(N,{className:"w-4 h-4"}),n.jsx("span",{children:e.label})]})},"loading-state");const d=r||i?s.some(s=>X(s)===X(e)):s&&X(s)===X(e);if(e.options)return n.jsx($,{className:"px-2 mt-2 overflow-visible",heading:n.jsx("span",{className:"cursor-default font-bold text-sm text-gray-800 whitespace-nowrap",children:e.label}),children:n.jsx(J,{options:e.options,selected:s,onOptionSelect:a,multiple:r,isSmall:i,optionTooltip:l})},t);{const s=n.jsx(V,{value:e.label,className:w("px-4 cursor-pointer hover:bg-gray-100 font-light border-b border-gray-100 whitespace-nowrap",d&&"bg-primary-400/10"),onSelect:()=>a(e),children:n.jsxs("div",{className:"flex justify-between items-center w-full gap-2",children:[n.jsx("span",{className:"whitespace-nowrap",children:e.label}),d&&n.jsx(o.FontAwesomeIcon,{icon:"check",className:"text-primary-600 h-3 w-3 ml-2 flex-shrink-0"})]})},t);if(l){const a="function"==typeof l?l(e):null==l?void 0:l[e.path];return a?n.jsx(B,{tooltipText:a,side:"right",children:s},t):s}return s}})});exports.RichSelect=({options:s,selected:a=[],onSelect:t,trigger:r,children:o,className:i,multiple:l=!1,isSearchable:d=!0,isSmall:c=!1,isShadow:m=!0,showSelectedSummary:p=!0,onSearchChange:f,searchPlaceholder:u="Search...",shouldFilter:x=!0,optionTooltip:h,searchFields:g=["label"]})=>{const[b,y]=e.useState(!1),[N,j]=e.useState(""),v=x?((e,s)=>{if(!s)return e;const a=s.toLowerCase(),t=(e=>{const s=[],a=e=>{e.forEach(e=>{e.options?a(e.options):e.isLoading||s.push(e)})};return a(e),s})(e).filter(e=>g.some(s=>{var t;return null===(t=e[s])||void 0===t?void 0:t.toLowerCase().includes(a)})),r=new Set(t.map(e=>e.path)),o=e=>e.map(e=>{if(e.options){const a=((e,s)=>e.toLowerCase().includes(s.toLowerCase()))(e.label,s);if(a)return{...e,matchedGroup:!0};const t=o(e.options);return t.length>0?{...e,options:t,matchedGroup:!1}:null}return e.isLoading||r.has(e.path)?e:null}).filter(Boolean);return o(e)})(s,N):s,C=e=>{if(l){const s=a.some(s=>X(s)===X(e))?a.filter(s=>X(s)!==X(e)):[...a,e];t(s)}else t(e),y(!1)};return n.jsx("div",{className:w("relative flex",i),children:n.jsxs(S,{open:b,onOpenChange:y,children:[n.jsx(R,{asChild:!0,className:"flex items-center gap-1 text-gray-500 text-sm "+(c?"border-none px-1 text-xs py-0":"border-b px-2 py-1"),children:o||r(a)}),n.jsx(I,{align:"start",sideOffset:4,className:w("bg-white border w-auto",!m&&"shadow-none"),children:n.jsx(D,{children:n.jsxs(_,{shouldFilter:!1,children:[d&&n.jsx(E,{placeholder:u,className:"px-4 py-2 mb-2 border-b border-gray-300",onValueChange:e=>{j(e),f&&f(e)}}),n.jsxs(G,{children:[l&&a.length>0&&("always"===p||!1!==p&&s.length>6)&&n.jsx(H,{selected:a,onRemove:C,onClearAll:()=>t([])}),n.jsx(J,{options:v,selected:a,onOptionSelect:C,multiple:l,isSmall:c,optionTooltip:h}),0===v.length&&n.jsx(W,{})]})]})})})]})})};
//# sourceMappingURL=index.js.map
